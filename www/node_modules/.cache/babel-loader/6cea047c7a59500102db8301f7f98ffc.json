{"ast":null,"code":"var _jsxFileName = \"/Users/gamecoach/codes/portfolio-2019q2/www/components/menu.js\";\nimport React from \"react\";\nimport { withRouter } from 'next/router';\nimport _get from 'lodash/get';\nimport { connect } from 'react-redux';\nimport { useTransition, animated, useSpring } from 'react-spring';\nimport { logout } from '../actions/user';\nimport { menuShow } from '../actions/ui';\nimport Go from './go';\nvar names = {\n  '/': 'HOME',\n  '/gallery': 'WORKS',\n  '/contact': 'CONTACT',\n  '/login': 'ADMIN',\n  '/admin': 'ADMIN'\n};\n\nvar Menu = function Menu(_ref) {\n  var router = _ref.router,\n      user = _ref.user,\n      dispatch = _ref.dispatch,\n      ui = _ref.ui;\n  var menuTrans = useTransition(ui.menuVisible, null, {\n    from: {\n      opacity: 0,\n      right: '-100px'\n    },\n    enter: {\n      opacity: 1,\n      right: '0px'\n    },\n    leave: {\n      opacity: 0,\n      right: '-100px'\n    }\n  });\n  var menuSpringBtn = useSpring({\n    marginTop: ui.menuVisible ? '130px' : '0px'\n  });\n\n  var onLogout = function onLogout(e) {\n    e.preventDefault();\n    dispatch(logout());\n    if (router.pathname === '/admin') router.push('/');\n  };\n\n  return React.createElement(\"nav\", {\n    id: \"menu\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, _get(names, router.pathname, '')), menuTrans.map(function (_ref2) {\n    var item = _ref2.item,\n        key = _ref2.key,\n        _ref2$props = _ref2.props,\n        right = _ref2$props.right,\n        opacity = _ref2$props.opacity,\n        marginTop = _ref2$props.marginTop;\n    return item && React.createElement(animated.div, {\n      className: \"menu--container\",\n      key: key,\n      style: {\n        opacity: opacity,\n        right: right\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(Go, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/static/home.svg\",\n      alt: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(Go, {\n      to: \"/gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/static/file-text.svg\",\n      alt: \"gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    })), React.createElement(Go, {\n      to: \"/contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/static/email.svg\",\n      alt: \"contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), React.createElement(Go, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/static/cloud-upload.svg\",\n      alt: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), user.auth ? React.createElement(\"a\", {\n      href: \"#\",\n      className: \"link\",\n      onClick: onLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/static/power-outline.svg\",\n      alt: \"logout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })) : null);\n  }), React.createElement(animated.button, {\n    onClick: function onClick(e) {\n      return dispatch(menuShow(!ui.menuVisible));\n    },\n    style: menuSpringBtn,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, ui.menuVisible ? 'close' : 'open'));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return state;\n};\n\nexport default connect(mapStateToProps)(withRouter(Menu));","map":{"version":3,"sources":["/Users/gamecoach/codes/portfolio-2019q2/www/components/menu.js"],"names":["withRouter","_get","connect","useTransition","animated","useSpring","logout","menuShow","Go","names","Menu","router","user","dispatch","ui","menuTrans","menuVisible","from","opacity","right","enter","leave","menuSpringBtn","marginTop","onLogout","e","preventDefault","pathname","push","map","item","key","props","auth","mapStateToProps","state"],"mappings":"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","sourcesContent":["import { withRouter } from 'next/router';\nimport _get from 'lodash/get';\nimport { connect } from 'react-redux';\nimport { useTransition, animated, useSpring } from 'react-spring';\n\nimport { logout } from '../actions/user';\nimport { menuShow } from '../actions/ui';\nimport Go from './go';\n\nconst names = {\n  '/': 'HOME',\n  '/gallery': 'WORKS',\n  '/contact': 'CONTACT',\n  '/login': 'ADMIN',\n  '/admin': 'ADMIN',\n};\n\nconst Menu = ({ router, user, dispatch, ui }) => {\n\n  const menuTrans = useTransition(ui.menuVisible, null, {\n    from: { opacity: 0, right: '-100px' },\n    enter: { opacity: 1, right: '0px' },\n    leave: { opacity: 0, right: '-100px' },\n  });\n\n  const menuSpringBtn = useSpring({\n    marginTop: ui.menuVisible ? '130px' : '0px',\n  });\n\n  const onLogout = e => {\n    e.preventDefault();\n    dispatch(logout());\n    if (router.pathname === '/admin') router.push('/');\n  };\n\n  return (\n    <nav id=\"menu\">\n      <p>{_get(names, router.pathname, '')}</p>\n      {menuTrans.map(\n        ({ item, key, props: { right, opacity, marginTop } }) =>\n          item && (\n            <animated.div\n              className=\"menu--container\"\n              key={key}\n              style={{ opacity, right }}\n            >\n              <Go to=\"/\">\n                <img src=\"/static/home.svg\" alt=\"home\" />\n              </Go>\n              <Go to=\"/gallery\">\n                <img src=\"/static/file-text.svg\" alt=\"gallery\" />\n              </Go>\n              <Go to=\"/contact\">\n                <img src=\"/static/email.svg\" alt=\"contact\" />\n              </Go>\n              <Go to=\"/login\">\n                <img src=\"/static/cloud-upload.svg\" alt=\"login\" />\n              </Go>\n              {user.auth ? (\n                <a href=\"#\" className=\"link\" onClick={onLogout}>\n                  <img src=\"/static/power-outline.svg\" alt=\"logout\" />\n                </a>\n              ) : null}\n            </animated.div>\n          ),\n      )}\n      <animated.button\n        onClick={e => dispatch(menuShow(!ui.menuVisible))}\n        style={menuSpringBtn}\n      >\n        {ui.menuVisible ? 'close' : 'open'}\n      </animated.button>\n    </nav>\n  );\n};\n\nconst mapStateToProps = state => state;\n\nexport default connect(mapStateToProps)(withRouter(Menu));\n"]},"metadata":{},"sourceType":"module"}